<!-- /// controller:  'UserCtrl' -  localtion: assets/js/controllers/executionPlanDetailCtrl.js /// -->
<div ng-controller="executionDetailCtrl">
    <!-- start: BREADCRUMB -->
    <div class="breadcrumb-wrapper">
        <h4>[ <a href=""> {{testCase.name}} </a> ]</h4>
        <div ncy-breadcrumb class="pull-right"></div>
    </div>
    <!-- end: BREADCRUMB -->
    <!-- start: USER PROFILE -->
    <div class="container-fluid container-fullw">
        <div class="row">
            <div class="col-md-12">
                <!-- start: USER TABSET -->
                <uib-tabset class="tabbable">
                    <!-- start: TAB OVERVIEW -->
                    <uib-tab heading="{{'common.overview' | translate}}">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="user-left">
                                    <div class="center">
                                        <hr>
                                            <h2>#<strong>{{execution.id}}</strong></h2>
                                        <hr>
                                    </div>
                                    <table class="table table-condensed">
                                        <thead>
                                            <tr>
                                                <th colspan="3">General Information</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Test Case:</td>
                                                <td>
                                                    <a ui-sref="app.test_case.detail({id : testCase.id})"> {{testCase.name}} </a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Status:</td>
                                                <td>
                                                    {{execution.status}}
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Result:</td>
                                                <td>{{execution.result}}</td>
                                            </tr>
                                            <tr>
                                                <td>Start Time:</td>
                                                <td>{{execution.startTime}}</td>
                                            </tr>
                                            <tr>
                                                <td>End Time:</td>
                                                <td>{{execution.endTime}}</td>
                                            </tr>
                                            <tr>
                                                <td>Execution Plan:</td>
                                                <td>
                                                    {{executionPlan.name}}
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="row space20">
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 margin-bottom-5 btn-block">
                                            <i class="ti-layers-alt block text-primary text-extra-large margin-bottom-10"></i>
                                            Projects
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-comments block text-primary text-extra-large margin-bottom-10"></i>
                                            Messages <span class="badge badge-danger"> 23 </span>
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-calendar block text-primary text-extra-large margin-bottom-10"></i>
                                            Calendar
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-flag block text-primary text-extra-large margin-bottom-10"></i>
                                            Notifications
                                        </button>
                                    </div>
                                </div>
                                <div class="panel panel-white" id="activities">
                                    <div class="panel-heading border-light">
                                        <h4 class="panel-title text-primary">Recent Changes</h4>
                                        <paneltool class="panel-tools" tool-collapse="tool-collapse" tool-refresh="load1" tool-dismiss="tool-dismiss"></paneltool>
                                    </div>
                                    <div uib-collapse="activities" ng-init="activities=false" class="panel-wrapper">
                                        <div class="panel-body">
                                            <ul class="timeline-xs">
                                                <li class="timeline-item success" ng-repeat="executionPlanLog in executionPlanLoglist">
                                                    <div class="margin-left-15">
                                                        <div class="text-muted text-small">
                                                            {{executionPlanLog.time}}
                                                        </div>
                                                        <p>
                                                            <a class="text-info" href>
                                                                {{executionPlanLog.level}}
                                                            </a>
                                                            {{executionPlanLog.content}}
                                                        </p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white space20">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">Recent Tweets</h4>
                                    </div>
                                    <div class="panel-body">
                                        <ul class="ltwt">
                                            <li class="ltwt_tweet">
                                                <p class="ltwt_tweet_text">
                                                    <a href class="text-info">
                                                        @Shakespeare
                                                    </a>
                                                    Some are born great, some achieve greatness, and some have greatness thrust upon them.
                                                </p>
                                                <span class="block text-light"><i class="fa fa-fw fa-clock-o"></i> 2 minuts ago</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <!-- end: TAB OVERVIEW -->
                    <!-- start: TAB STEP -->
                    <uib-tab heading="{{'testCase.testSteps' | translate}}">
                        <div id="timeline">
                            <div class="timeline">
                                <div class="spine"></div>
                                <ul class="columns">
                                    <li ng-repeat="executionStep in executionSteps">
                                        <div class="timeline_element partition-white">
                                            <div class="timeline_date">
                                                <div>
                                                    <div class="inline-block">
                                                        <span class="day text-bold">{{executionStep.testStepDto.stepOrder}}</span>
                                                    </div>
                                                    <div class="inline-block">
                                                        <span class="block week-day text-extra-large">{{executionStep.testStepDto.testAction.name}}</span>
                                                        <span class="block month text-light">{{executionStep.startTime}} - {{executionStep.endTime}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="timeline_content">
                                                <blockquote><p class="text-small">{{executionStep.testStepDto.testAction.remark}}</p></blockquote>
                                                <strong>Handler:</strong>
                                                <p><small>{{executionStep.testStepDto.testAction.handler}}</small></p>

                                                <strong>Parameter:</strong>
                                                <p><small>{{executionStep.testStepDto.parameter}}</small></p>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </uib-tab>
                    <!-- end: TAB STEP -->
                    <!-- start: TAB OUTPUT -->
                    <uib-tab heading="{{'common.output' | translate}}">
                        <table ng-table="outputTextTable" class="table table-striped">
                            <tr ng-repeat="executionOutputText in $data">
                                <td class="col-md-1" data-title="'ID'" sortable="'id'"><span class="badge">{{executionOutputText.id}}</span></td>
                                <td data-title="'Type'" sortable="'type'">{{executionOutputText.type}}</td>
                                <td data-title="'Field'" sortable="'field'">{{executionOutputText.field}}</td>
                                <td data-title="'Value'" sortable="'value'">{{executionOutputText.value}}</td>
                                <td data-title="'Remark'" sortable="'remark'">{{executionOutputText.remark}}</td>
                                <td data-title="'Time'" sortable="'lastUpdate'">{{executionOutputText.lastUpdate}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB OUTPUT -->
                    <!-- start: TAB FILE -->
                    <uib-tab heading="{{'common.files' | translate}}">
                        <table ng-table="outputFileTable" class="table table-striped">
                            <tr ng-repeat="executionOutputFile in $data">
                                <td class="col-md-1" data-title="'ID'" sortable="'id'"><span class="badge">{{executionOutputFile.id}}</span></td>
                                <td data-title="'Type'" sortable="'type'">{{executionOutputFile.type}}</td>
                                <td data-title="'Name'" sortable="'fileDto.name'"><a ui-sref="app.file.detail({id : executionOutputFile.fileDto.id})">{{executionOutputFile.fileDto.name}}</a></td>
                                <td data-title="'Remark'" sortable="'remark'">{{executionOutputFile.remark}}</td>
                                <td data-title="'Time'" sortable="'lastUpdate'">{{executionOutputFile.lastUpdate}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB FILE -->
                    <!-- start: TAB LOG -->
                    <uib-tab heading="{{'common.logs' | translate}}">
                        <table ng-table="executionLogTable" class="table table-striped">
                            <tr ng-repeat="executionLog in $data">
                                <td class="col-md-1" data-title="'ID'" sortable="'id'"><span ng-class="{'badge badge-danger': executionLog.level == 'ERROR','badge badge-warning': executionLog.level == 'WARN', 'badge badge-info': executionLog.level == 'INFO'}">{{executionLog.id}}</span></td>
                                <td data-title="'Level'" sortable="'level'">{{executionLog.level}}</td>
                                <td data-title="'Content'" sortable="'content'">{{executionLog.content}}</td>
                                <td data-title="'Time'" sortable="'time'">{{executionLog.time}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB LOG -->
                    <!-- start: TAB COMMENTS -->
                    <uib-tab heading="{{'common.comments' | translate}}">
                        <table ng-table="commentTable" class="table table-striped">
                            <tr ng-repeat="comment in $data">
                                <td class="col-md-1" data-title="'ID'" sortable="'id'"> {{comment.id}} </td>
                                <td data-title="'Name'" sortable="'userDto.nickName'"><img class="profile-photo" ng-src="data:image/jpeg;base64,{{comment.userDto.avatar}}"> {{comment.userDto.nickName}}</td>
                                <td data-title="'Content'" sortable="'content'">{{comment.content}}</span></a></td>
                                <td data-title="'Time'" sortable="'time'">{{comment.time}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB COMMENTS -->
                </uib-tabset>
                <!-- end: USER TABSET -->
            </div>
        </div>
    </div>
    <!-- end: USER PROFILE -->
</div>
